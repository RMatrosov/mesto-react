{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Spinner.js","components/PopupWithSubmit.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","src","link","alt","name","length","Main","onAddPlace","onEditProfile","onEditAvatar","cards","avatar","about","map","Footer","ImagePopup","onClose","api","baseUrl","headers","this","_URL","_token","authorization","fetch","then","_handleResponse","method","body","JSON","stringify","title","data","id","item","res","ok","json","Promise","reject","status","PopupWithForm","props","params","isOpen","onSubmit","action","formName","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","cardTitle","setCardTitle","cardLink","setCardLink","Spinner","PopupWithSubmit","cardToDelete","App","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPopupWithSubmitOpen","setPopupWithSubmitOpen","setCards","setCurrentUser","isLoading","setIsLoading","isLoadingCards","setIsLoadingCards","setCardToDelete","closeAllPopups","getInitialCards","catch","error","console","log","finally","getUserInfoFromServer","Provider","setUserInfoFromServer","err","changeAvatar","addCardToServer","deleteCardFromServer","message","state","filter","changeLikeCardStatus","newCard","c","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0cc3d571.chunk.js","sourcesContent":["\nexport default function Header() {\n    return (\n        <header className=\"header\">\n            <a href=\"#\" target=\"_blank\" className=\"logo\"/>\n        </header>\n    )\n}\n\n","import React from \"react\";\n\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (\n      `element__button-delete ${!isOwn ? 'card__delete-button_hidden' : ''}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : ''}`;\n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n      onCardDelete(card)\n  }\n\n  return (\n      <li className=\"element\">\n        <button type=\"button\" className={cardDeleteButtonClassName}\n                onClick={handleDeleteClick}/>\n        <img src={card.link} alt={card.name} onClick={() => onCardClick(card)}\n             className=\"element__image\"/>\n        <div className=\"element__group\">\n          <h2 className=\"element__title\">{card.name}</h2>\n          <div className=\"element__like-group\">\n            <button type=\"button\" className={cardLikeButtonClassName}\n                    onClick={handleLikeClick}/>\n            <span className=\"element__like-counter\">{card.likes.length}</span>\n          </div>\n        </div>\n      </li>\n  )\n}","import Card from \"./Card\";\nimport React from \"react\";\n\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\n\nexport default function Main({\n                               onCardClick, onAddPlace, onEditProfile, onEditAvatar, cards,\n                               onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n      <main className=\"main\">\n        <section className=\"profile\">\n          <div className=\"profile__wrapper\">\n            <div className=\"profile__image-wrapper\">\n              <img src={currentUser.avatar} alt=\"фото профиля\"\n                   className=\"profile__image\"/>\n              <button onClick={onEditAvatar} className=\"profile__image-btn\"/>\n            </div>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button onClick={onEditProfile} type=\"button\" className=\"profile__button\"/>\n              <p className=\"profile__job\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button onClick={onAddPlace} type=\"button\" className=\"profile__button-add\"/>\n        </section>\n\n        <section className=\"elements\">\n          <ul className=\"elements__list\">\n            {cards.map((card) => <Card\n                key={card._id} card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n            />)}\n          </ul>\n        </section>\n\n      </main>\n  )\n}\n","\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","export default function ImagePopup({card, onClose}) {\n    return (\n        <div className={`popup popup_type_image ${card && 'popup_opened'}`}>\n            <div className=\"popup__container popup__container_type_image\">\n                <button onClick={onClose} type=\"button\" className=\"popup__button-close popup__button-close_type_image\"/>\n                <img src={card?.link} alt={card?.name} className=\"popup__img\"/>\n                <h2 className=\"popup__title\">{card?.name}</h2>\n            </div>\n        </div>\n    )\n}\n","\n\nclass Api {\n    constructor({baseUrl, headers}) {\n        this._URL = baseUrl;\n        this._token = headers.authorization;\n    };\n\n     getInitialCards() {\n         return fetch(`${this._URL}cards`, {\n             headers: {\n                 authorization: this._token,\n             }\n         })\n             .then(this._handleResponse);\n     };\n\n    getUserInfoFromServer() {\n        return fetch(`${this._URL}users/me`, {\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._handleResponse);\n    };\n\n    setUserInfoFromServer({name, about}) {\n        return fetch(`${this._URL}users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: name,\n                about: about\n            })\n        })\n            .then(this._handleResponse);\n    };\n\n    addCardToServer({title, link}) {\n        return fetch(`${this._URL}cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: title,\n                link: link\n            })\n        })\n            .then(this._handleResponse);\n    };\n\n    deleteCardFromServer(data) {\n        return fetch(`${this._URL}cards/${data}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(this._handleResponse);\n    };\n\n    changeLikeCardStatus(id, isLiked) {\n        let method\n        if (!isLiked){\n            method = 'DELETE'\n        }else{\n            method = 'PUT'\n        }\n        return fetch(`${this._URL}cards/likes/${id}`, {\n            method: method,\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(this._handleResponse);\n    };\n\n    changeAvatar(item) {\n        return fetch(`${this._URL}users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: item.avatar,\n            })\n        })\n            .then(this._handleResponse);\n    };\n\n    _handleResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    };\n\n};\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n    headers: {\n        authorization: '4e299d77-1777-4738-8eea-94761855c603',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;\n\n","export default function PopupWithForm(props) {\n    return (\n            <div className={`popup popup_${props.params.name} ${props.isOpen && 'popup_opened'}`}>\n                <div className=\"popup__container\">\n                    <button onClick={props.onClose} type=\"button\" className=\"popup__button-close\"/>\n                    <form onSubmit={props.onSubmit} action=\"#\" className=\"form\" name={props.params.formName}>\n                        <h2 className=\"form__heading\">{props.params.title}</h2>\n                        {props.children}\n                        <button type=\"submit\" className=\"form__button\">{props.params.buttonText}</button>\n                    </form>\n                </div>\n            </div>\n    )\n}\n","import React, {useEffect, useState} from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n      <PopupWithForm isOpen={props.isOpen}\n                     params={{\n                       name: 'type_edit',\n                       title: 'Редактировать профиль',\n                       buttonText: 'Сохранить',\n                       formName: \"edit-profile\"\n                     }}\n                     onClose={props.onClose}\n                     onSubmit={handleSubmit}>\n\n        <input type=\"text\" className=\"form__input\"\n               onChange={(e)=>setName(e.target.value)}\n               name='name' id='name' placeholder='Введите имя'\n               minLength=\"2\" value={name || ''}\n               maxLength=\"40\" required/>\n        <span className=\"form__input-error name-input-error\"/>\n        <input type=\"text\" className=\"form__input\"\n               onChange={(e)=>setDescription(e.target.value)}\n               name='description' id='description' placeholder='Введите род занятия'\n               minLength=\"2\" value={description || ''}\n               maxLength=\"200\" required/>\n        <span className=\"form__input-error job-input-error\"/>\n      </PopupWithForm>\n  )\n}","import PopupWithForm from \"./PopupWithForm\";\nimport React, {useEffect} from \"react\";\n\nexport default function EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef();\n\n  useEffect(() => {\n    avatarRef.current.value = ''\n  }, [props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n      <PopupWithForm isOpen={props.isOpen}\n                     onClose={props.onClose}\n                     onSubmit={handleSubmit}\n                     params={{\n                       name: 'type_avatar',\n                       title: 'Обновить аватар',\n                       buttonText: 'Сохранить',\n                       formName: \"change-avatar\"\n                     }}>\n\n        <input ref={avatarRef} type=\"url\" className=\"form__input\" name=\"link\" id=\"avatar\"\n               placeholder=\"Ссылка на картинку\" required/>\n        <span className=\"form__input-error avatar-input-error\"/>\n\n      </PopupWithForm>\n  )\n}","import PopupWithForm from \"./PopupWithForm\";\nimport React, {useEffect, useState} from \"react\";\n\nexport default function AddPlacePopup(props) {\n\n  const [cardTitle, setCardTitle] = useState('');\n  const [cardLink, setCardLink] = useState('');\n\n  useEffect(() => {\n    setCardTitle('');\n    setCardLink('');\n  }, [props.isOpen]);\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      title: cardTitle,\n      link: cardLink,\n    });\n  }\n\n  return (\n      <PopupWithForm isOpen={props.isOpen}\n                     params={{\n                       name: 'new-card',\n                       title: 'Новое место',\n                       buttonText: 'Создать',\n                       formName: \"new-card\"\n                     }}\n                     onClose={props.onClose}\n                     onSubmit={handleSubmit}>\n\n\n        <input type=\"text\"\n               value={cardTitle}\n               onChange={(e) => setCardTitle(e.target.value)}\n               className=\"form__input\" name=\"title\" id=\"title\" placeholder=\"Название\"\n               minLength=\"2\"\n               maxLength=\"200\" required/>\n        <span className=\"form__input-error title-input-error\"/>\n        <input type=\"url\" className=\"form__input\" value={cardLink}\n               onChange={(e) => setCardLink(e.target.value)}\n               name=\"link\" id=\"link\"\n               placeholder=\"Ссылка на картинку\" required/>\n        <span className=\"form__input-error link-input-error\"/>\n\n\n      </PopupWithForm>\n  )\n}","\n\nexport const Spinner = () => {\n  return <div className=\"Spinner\" />;\n}","import PopupWithForm from \"./PopupWithForm\";\n\n\nexport default function PopupWithSubmit(props) {\n\nfunction handleSubmit(e) {\n  e.preventDefault()\n  props.onSubmit(props.cardToDelete)\n}\n\n  return (\n      <PopupWithForm isOpen={props.isOpen}\n                     params={{\n                       name: 'type_confirmation',\n                       title: 'Вы уверены?',\n                       buttonText: 'Да',\n                       formName: \"type_confirmation\"\n                     }}\n                     onClose={props.onClose}\n                     onSubmit={handleSubmit}>\n\n      </PopupWithForm>\n  )\n}","import Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport {useEffect, useState} from \"react\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport {Spinner} from \"./Spinner\";\nimport PopupWithSubmit from \"./PopupWithSubmit\";\n\n\nfunction App() {\n\n  const [selectedCard, setSelectedCard] = useState(null)\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isPopupWithSubmitOpen, setPopupWithSubmitOpen] = useState(false);\n  const [cards, setCards] = useState([])\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingCards, setIsLoadingCards] = useState(false);\n  const [cardToDelete, setCardToDelete] = useState(null);\n\n\n  useEffect(() => {\n    setIsLoadingCards(true)\n    api.getInitialCards().then(data => {\n      setCards(data)\n    }).catch((error) => {\n      console.log(error)\n    }).finally(() => {\n      setIsLoadingCards(false)\n    })\n  }, [])\n\n  useEffect(() => {\n    setIsLoading(true)\n    api.getUserInfoFromServer().then(data => {\n      setCurrentUser(data)\n    }).catch((error) => {\n      console.log(error)\n    }).finally(() => {\n      setIsLoading(false)\n    })\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleCardDelete(card) {\n    setPopupWithSubmitOpen(true);\n    setCardToDelete(card)\n  }\n\n  function handleCardDeleteSubmit(card) {\n    api.deleteCardFromServer(card._id).then((data) => {\n      if (data.message === \"Пост удалён\") {\n        setCards((state) => state.filter(item => item !== card));\n        setPopupWithSubmitOpen(false);\n      }\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setPopupWithSubmitOpen(false)\n    setSelectedCard(null)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.setUserInfoFromServer({name, about}).then(data => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleUpdateAvatar(link) {\n    api.changeAvatar(link).then(data => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleAddPlaceSubmit(title, link) {\n    api.addCardToServer(title, link).then(data => {\n      setCards([data, ...cards]);\n      closeAllPopups();\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"App\">\n          <div className=\"page\">\n            <div className=\"page__wrapper\">\n              <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n              <EditProfilePopup isOpen={isEditProfilePopupOpen}\n                                onUpdateUser={handleUpdateUser}\n                                onClose={closeAllPopups}/>\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n                               onUpdateAvatar={handleUpdateAvatar}\n                               onClose={closeAllPopups}/>\n\n              <AddPlacePopup onClose={closeAllPopups}\n                             isOpen={isAddPlacePopupOpen}\n                             onAddPlace={handleAddPlaceSubmit}/>\n              <PopupWithSubmit onClose={closeAllPopups}\n                               isOpen={isPopupWithSubmitOpen}\n                               onSubmit={handleCardDeleteSubmit}\n                               cardToDelete={cardToDelete}/>\n\n              <Header/>\n              {isLoading || isLoadingCards ? (<Spinner/>) :\n                  (<Main onEditProfile={handleEditProfileClick}\n                         onAddPlace={handleAddPlaceClick}\n                         onEditAvatar={handleEditAvatarClick}\n                         onCardClick={handleCardClick}\n                         cards={cards}\n                         onCardLike={handleCardLike}\n                         onCardDelete={handleCardDelete}/>)}\n              <Footer/>\n            </div>\n          </div>\n        </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}